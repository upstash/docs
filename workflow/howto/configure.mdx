---
title: "Overview"
---

You can configure a workflow run when starting it. The following are the options you can configure:

1. Retries: The number of retry attempt Upstash Workflow does when a step fails in the workflow run
2. Retry Delay: The delay strategy between retries when Upstash Workflow attempts retries.
3. Flow Control: The rate, period and parallelism that steps should respect and logical grouping key to share with other workflow runs.
4. Failure Function: You can enable or disable failure function execution for the workflow run.

You can pass these configuration options when starting a workflow run:

```typescript
import { Client } from "@upstash/workflow";

const client = Client()

const { workflowRunId } = await client.trigger({
    url: `http://localhost:3000/api/workflow`,
    retries: 3,
    retryDelay: "(1 + retries) * 1000",
    flowControl: {
        key: "limit-ads",
        rate: 1,
        parallelism: 10
    }
    useFailureFunction: true,
    useTriggerConfiguration: true
});
```
<Warning>
You must set `useTriggerConfiguration: true` to enable workflow run configuration.
If this flag is not provided, your configuration will **not be applied** and the workflow will fall back to default values instead.
This option is disabled by default for backward compatibility.
</Warning>

The workflow run configuration does **not** apply to `context.call()` and `context.invoke()` steps.
These steps accept their own configuration options, allowing fine-grained control over external requests.
If not specified, they fall back to their default values.

For details, see:
- [context.call](/workflow/basics/context/run)
- [context.invoke](/workflow/basics/context/run)

<Tip>
Upstash Workflow does not support step level configuration. The configuration applies to all steps executed by a workflow run.

If you want to specifically throttle a step, there is a workaround by splitting step to another workflow and using `context.invoke()`.

See [Per-User Configuration](/workflow/howto/configure/per-step) documentation on how to do that.
</Tip>