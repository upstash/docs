---
title: "Deployment"
---

Configure Upstash Realtime for optimal performance on serverless platforms.

<Note>
  Deploy Upstash Realtime to providers that bill based on active CPU time. Great places to
  deploy are Vercel with Fluid Compute enabled, Cloudflare, Railway, a personal VPS or any other service that does not bill based on connection duration.
</Note>

## Deploying to Vercel

To deploy Upstash Realtime to Vercel, [enable Fluid Compute](https://vercel.com/docs/fluid-compute#enable-for-entire-project) for your project. For new projects, this is enabled by default.

Fluid Compute allows for less cold-starts, has much higher function timeouts compared to serverless functions, and most importantly **only bills for active CPU time**.

That way, you're only billed for actual message processing time, not connection duration.

<Frame>
  <img src="/img/realtime/vercel-fluid-enabled.png" />
</Frame>



## Billing Example

Traditional serverless connection billing:

```
Connection duration: 5 minutes
Billing: 5 minutes = $$$
```

Upstash Realtime with fluid compute:

```
Connection duration: 5 minutes
Active processing: 2 seconds
Billing: 2 seconds Ã— CPU cost = $
```





## Automatic Reconnection

The client automatically reconnects before your function timeout:

```typescript
"use client"

import { useRealtime } from "@upstash/realtime/client"

export default function Component() {
  // ðŸ‘‡ 'connecting' | 'connected' | 'reconnecting' | 'disconnected'
  const { status } = useRealtime<RealtimeEvents>({
    events: {
      notification: {
        alert: (data) => console.log(data),
      },
    },
  })

  return <div>Status: {status}</div>
}
```

## Message Delivery Guarantee

Upstash Realtime is powered by Redis Streams:

<Steps>
  <Step title="Client Connects">Establishes connection and subscribes to stream</Step>

  <Step title="Timeout Approaching">Client disconnects before function timeout</Step>

  <Step title="Automatic Reconnection">
    Client reconnects in milliseconds
  </Step>

  <Step title="Stream Replay">Redis auto-replays all messages sent during reconnect</Step>
</Steps>

