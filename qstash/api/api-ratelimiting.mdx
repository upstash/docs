---
title: "API Rate Limit Response"
description: "This page documents the rate limiting behavior of our API and explains how to handle different types of rate limit errors."
---

## Overview

Our API implements rate limiting to ensure fair usage and maintain service stability. There are two types of rate limits:

1. **Daily rate limit**
2. **Burst rate limit**

When a rate limit is exceeded, the API returns a 429 status code along with specific headers that provide information about the limit, remaining requests/tokens, and reset time.

You can learn more about QStash plans and their limits on the [QStash pricing page](https://upstash.com/pricing/qstash).

### Daily Rate Limit

This is a **daily** limit applied to publish-related API endpoints (new message requests like publish, enqueue, or batch). Other API requests, such as fetching logs or messages, do not count toward this limit.

**Headers**:

- `RateLimit-Limit`: Maximum number of requests allowed per day
- `RateLimit-Remaining`: Remaining number of requests for the day
- `RateLimit-Reset`: Time (in unix timestamp) when the daily limit will reset

### Burst Rate Limit

This is a short-term limit **per second** to prevent rapid bursts of requests. This limit applies to all API endpoints.

**Headers**:

- `Burst-RateLimit-Limit`: Maximum number of requests allowed in the burst window (1 second)
- `Burst-RateLimit-Remaining`: Remaining number of requests in the burst window (1 second)
- `Burst-RateLimit-Reset`: Time (in unix timestamp) when the burst limit will reset

### Example Rate Limit Error Handling

```typescript Handling Daily Rate Limit Error
import { QstashDailyRatelimitError } from "@upstash/qstash";

try {
  // Example of a publish request that could hit the daily rate limit
  const result = await client.publishJSON({
    url: "https://my-api...",
    // or urlGroup: "the name or id of a url group"
    body: {
      hello: "world",
    },
  });
} catch (error) {
  if (error instanceof QstashDailyRatelimitError) {
    console.log("Daily rate limit exceeded. Retry after:", error.reset);
    // Implement retry logic or notify the user
  } else {
    console.error("An unexpected error occurred:", error);
  }
}
```

```typescript Handling Burst Rate Limit Error
import { QstashRatelimitError } from "@upstash/qstash";

try {
  // Example of a request that could hit the burst rate limit
  const result = await client.publishJSON({
    url: "https://my-api...",
    // or urlGroup: "the name or id of a url group"
    body: {
      hello: "world",
    },
  });
} catch (error) {
  if (error instanceof QstashRatelimitError) {
    console.log("Burst rate limit exceeded. Retry after:", error.reset);
    // Implement exponential backoff or delay before retrying
  } else {
    console.error("An unexpected error occurred:", error);
  }
}
```
