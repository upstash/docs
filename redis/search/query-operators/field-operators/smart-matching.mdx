---
title: Smart Matching
---

When you provide a value directly to a text field (without explicit operators like `$phrase` or `$fuzzy`),
the search engine applies smart matching to find the most relevant results.
This behavior varies based on the input format.

### Single-Word Values

For single-word searches, the engine performs a straightforward term search.
The word is matched against individual tokens in the field.

```
{ name: "headphones" }
```

This finds all documents where the `name` field contains the token "headphones".
Due to stemming (enabled by default), this also matches variations like "headphone".

### Multi-Word Values

For multi-word searches, the engine runs multiple matching strategies simultaneously and combines
their scores to surface the most relevant results:

1. **Exact phrase match** (highest boost): Documents where all words appear adjacent and in order
   score highest. Searching for `wireless headphones` ranks documents containing
   "wireless headphones" as a phrase above those with the words scattered.

2. **All terms match** (medium boost): Documents containing all the search terms, regardless of
   position or order, receive a moderate score boost.

3. **Fuzzy matching** (lower boost): Documents containing terms similar to the search terms
   (accounting for typos) are included with a lower score.

```
{ description: "wireless headphones" }
```

This query returns results in roughly this order:
- "Premium **wireless headphones** with noise cancellation" (exact phrase)
- "**Headphones** with **wireless** connectivity" (all terms present, different order)
- "**Wireles headphone** with long battery" (fuzzy match for typos)

### Double-Quoted Phrases

Wrapping your search value in double quotes forces exact phrase matching.
The words must appear adjacent and in the exact order specified.

```
{ description: "\"noise cancelling\"" }
```

This matches only documents containing "noise cancelling" as an exact phrase.
It will NOT match:
- "noise and cancelling" (words not adjacent)
- "cancelling noise" (wrong order)
- "noise-cancelling" (hyphenated, tokenized differently)

This is useful when you need precise matching without the fuzzy tolerance of smart matching.

### When to Use Explicit Operators

Smart matching works well for general search scenarios, but consider using explicit operators when you need:

- **Typo tolerance only**: Use [`$fuzzy`](./fuzzy) with specific distance settings
- **Phrase with gaps**: Use [`$phrase`](./phrase) with the `slop` parameter
- **Autocomplete**: Use [`$contains`](./contains) for prefix matching on the last term
- **Pattern matching**: Use [`$regex`](./regex) for regular expression patterns
